{% extends 'layout.html' %}

{% block content %}

<form action="/songs" method="get" class="tool-bar">
  <label for="search">Search Term</label>
  <input id="search" type="search" name="q" value="{{ request.args.get('q') or '' }}" />
  <input type="submit" value="Search"/>
</form>

<table class="striped">
  <thead>
    <tr>
      <th scope="col">Title</th>
      <th>Artist</th>
      <th>URI</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  {% for song in songs %}
    <tr>
      <th scope="row">{{ song.title }}</th>
      <td>{{ song.artist }}</td>
      <td>{{ song.uri }}</td>
      <td><a href="/songs/{{ song.id }}/edit">Edit</a></td>
      <td><a href="/songs/{{ song.id }}">View</a></td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<form action="/songs/new" method="post">
  <fieldset class="grid">
    <input name="title" id="title" type="text" placeholder="Title">
    <input name="artist" id="artist" type="text" placeholder="Artist">
    <input name="uri" id="uri" type="text" placeholder="URI">
    <input name="submit" type="submit" value="Save" />
  </fieldset>
</form>

<div>
  <span style="float: right">
    {% if page > 1 %}
      <a href="/songs?page={{ page - 1 }}">Previous</a>
    {% endif %}
    {% if songs|length == 5 %}
      <a href="/songs?page={{ page + 1 }}">Next</a>
    {% endif %}
  </span>
</div>

<p>
  <a href="/songs/new">Add song</a>
</p>

{% endblock %}

